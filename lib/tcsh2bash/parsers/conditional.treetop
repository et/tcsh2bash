module Tcsh2Bash
  grammar Conditional
    include Symbols
    include Assignment

    #rule conditional_expression
    #  if_statement
    #end

    #rule if_statement
    #  if_one_line
    #end

    rule if_one_line
      'if' space* open_paren bool_expr close_paren space* stmt:(assignment / anything) {
        def to_bash
          "if [ " + bool_expr.text_value + " ]\nthen\n  " + stmt.to_bash.strip + "\nfi"
        end
      }
    end

  end
end
