module Tcsh2Bash
  grammar Conditional
    include Symbols
    include Boolean
    include Assignment

    #rule conditional_expression
    #  if_statement
    #end

    #rule if_statement
    #  if_one_line
    #end

    rule if_one_line
      'if' space* open_paren paren_bool_expr close_paren space* stmt:(assignment / anything) {
        def to_bash
          "if " + paren_bool_expr.to_bash + "\nthen\n  " + stmt.to_bash + "\nfi"
        end
      }
    end

  end
end
